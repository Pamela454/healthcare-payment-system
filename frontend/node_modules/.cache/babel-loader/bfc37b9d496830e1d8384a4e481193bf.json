{"ast":null,"code":"export const setCurrentAccount = account => {\n  console.log(account);\n  return {\n    type: \"SET_CURRENT_ACCOUNT\",\n    account: account\n  };\n}; //type and payload property \n//action creator, function that returns an action \n//thunk allows return of function instead of object. Function receives dispatch function and can dispatch multiple actions. \n\nexport const login = credentials => {\n  //console.log(credentials)\n  return dispatch => {\n    return fetch(\"http://localhost:3001/api/v1/login\", {\n      method: \"POST\",\n      credentials: \"include\",\n      headers: {\n        \"Content-Type\": \"application/json\"\n      },\n      body: JSON.stringify(credentials)\n    }).then(res => res.json()).then(account => {\n      if (account.error) {\n        console.log(error);\n      } else {\n        dispatch(setCurrentAccount(account));\n      }\n    }).catch(console.log);\n  };\n};","map":{"version":3,"sources":["/Users/pamela/healthcare-payment-system/frontend/src/actions/accountLogin.js"],"names":["setCurrentAccount","account","console","log","type","login","credentials","dispatch","fetch","method","headers","body","JSON","stringify","then","res","json","error","catch"],"mappings":"AAAA,OAAO,MAAMA,iBAAiB,GAAIC,OAAD,IAAa;AAC7CC,EAAAA,OAAO,CAACC,GAAR,CAAYF,OAAZ;AACC,SAAO;AACLG,IAAAA,IAAI,EAAE,qBADD;AAELH,IAAAA,OAAO,EAAEA;AAFJ,GAAP;AAID,CANM,C,CAQP;AACA;AACA;;AAEA,OAAO,MAAMI,KAAK,GAAGC,WAAW,IAAI;AACnC;AACA,SAAOC,QAAQ,IAAI;AAClB,WAAOC,KAAK,CAAC,oCAAD,EAAuC;AAClDC,MAAAA,MAAM,EAAE,MAD0C;AAElDH,MAAAA,WAAW,EAAE,SAFqC;AAGlDI,MAAAA,OAAO,EAAE;AACR,wBAAgB;AADR,OAHyC;AAMlDC,MAAAA,IAAI,EAAEC,IAAI,CAACC,SAAL,CAAeP,WAAf;AAN4C,KAAvC,CAAL,CAQLQ,IARK,CAQAC,GAAG,IAAIA,GAAG,CAACC,IAAJ,EARP,EASLF,IATK,CASAb,OAAO,IAAI;AAChB,UAAIA,OAAO,CAACgB,KAAZ,EAAmB;AAClBf,QAAAA,OAAO,CAACC,GAAR,CAAYc,KAAZ;AACA,OAFD,MAEO;AACNV,QAAAA,QAAQ,CAACP,iBAAiB,CAACC,OAAD,CAAlB,CAAR;AACA;AACD,KAfK,EAgBLiB,KAhBK,CAgBChB,OAAO,CAACC,GAhBT,CAAP;AAiBA,GAlBD;AAmBA,CArBM","sourcesContent":["export const setCurrentAccount = (account) => {\n\tconsole.log(account)\n  return {\n    type: \"SET_CURRENT_ACCOUNT\",\n    account: account \n  };\n};\n\n//type and payload property \n//action creator, function that returns an action \n//thunk allows return of function instead of object. Function receives dispatch function and can dispatch multiple actions. \n\nexport const login = credentials => {\n\t//console.log(credentials)\n\treturn dispatch => {\n\t\treturn fetch(\"http://localhost:3001/api/v1/login\", {\n\t\t\tmethod: \"POST\",\n\t\t\tcredentials: \"include\",\n\t\t\theaders: {\n\t\t\t\t\"Content-Type\": \"application/json\"\n\t\t\t},\n\t\t\tbody: JSON.stringify(credentials)\n\t\t})\n\t\t\t.then(res => res.json())\n\t\t\t.then(account => {\n\t\t\t\tif (account.error) {\n\t\t\t\t\tconsole.log(error)\n\t\t\t\t} else {\n\t\t\t\t\tdispatch(setCurrentAccount(account))\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch(console.log);\n\t}\n}"]},"metadata":{},"sourceType":"module"}