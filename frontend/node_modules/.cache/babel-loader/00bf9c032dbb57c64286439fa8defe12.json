{"ast":null,"code":"export const newPayment = (form, history) => {\n  return dispatch => {\n    console.log(form);\n    return fetch(`http://localhost:3001/api/v1/accounts/${history}/payments/new`, {\n      method: \"POST\",\n      body: JSON.stringify(form)\n    }).then(response => response.json()).then(payment => {\n      console.log(payment);\n\n      if (payment.error) {\n        alert(\"error\");\n      } else {\n        console.log(\"payment.data is: \" + JSON.stringify(payment.data));\n        dispatch({\n          type: \"ADD_PAYMENT\",\n          payload: payment\n        });\n        history.push(`/accounts/${history}`);\n      }\n    });\n  };\n};\n/*let chargeToken = this.props.stripe.createToken({name: \"Name\"})\n  let charge = {\n     amount: form.amount,\n     cardnumber: form.cardnumber,\n     expiration: form.expiration,\n     cvc: form.cvc,\n     token: chargeToken.token.id \n  } */","map":{"version":3,"sources":["/Users/pamela/healthcare-payment-system/frontend/src/actions/currentPayments.js"],"names":["newPayment","form","history","dispatch","console","log","fetch","method","body","JSON","stringify","then","response","json","payment","error","alert","data","type","payload","push"],"mappings":"AAAA,OAAO,MAAMA,UAAU,GAAG,CAACC,IAAD,EAAOC,OAAP,KAAmB;AAC3C,SAAQC,QAAD,IAAc;AACnBC,IAAAA,OAAO,CAACC,GAAR,CAAYJ,IAAZ;AACA,WAAOK,KAAK,CACT,yCAAwCJ,OAAQ,eADvC,EAEV;AACEK,MAAAA,MAAM,EAAE,MADV;AAEEC,MAAAA,IAAI,EAAEC,IAAI,CAACC,SAAL,CAAeT,IAAf;AAFR,KAFU,CAAL,CAOJU,IAPI,CAOEC,QAAD,IAAcA,QAAQ,CAACC,IAAT,EAPf,EAQJF,IARI,CAQEG,OAAD,IAAa;AACjBV,MAAAA,OAAO,CAACC,GAAR,CAAYS,OAAZ;;AACA,UAAIA,OAAO,CAACC,KAAZ,EAAmB;AACjBC,QAAAA,KAAK,CAAC,OAAD,CAAL;AACD,OAFD,MAEO;AACLZ,QAAAA,OAAO,CAACC,GAAR,CAAY,sBAAsBI,IAAI,CAACC,SAAL,CAAeI,OAAO,CAACG,IAAvB,CAAlC;AACAd,QAAAA,QAAQ,CAAC;AAAEe,UAAAA,IAAI,EAAE,aAAR;AAAuBC,UAAAA,OAAO,EAAEL;AAAhC,SAAD,CAAR;AACAZ,QAAAA,OAAO,CAACkB,IAAR,CAAc,aAAYlB,OAAQ,EAAlC;AACD;AACF,KAjBI,CAAP;AAkBD,GApBD;AAqBD,CAtBM;AAwBP;AACA;AACA;AACA;AACA;AACA;AACA;AACA","sourcesContent":["export const newPayment = (form, history) => {\n  return (dispatch) => {\n    console.log(form);\n    return fetch(\n      `http://localhost:3001/api/v1/accounts/${history}/payments/new`,\n      {\n        method: \"POST\",\n        body: JSON.stringify(form),\n      }\n    )\n      .then((response) => response.json())\n      .then((payment) => {\n        console.log(payment);\n        if (payment.error) {\n          alert(\"error\");\n        } else {\n          console.log(\"payment.data is: \" + JSON.stringify(payment.data));\n          dispatch({ type: \"ADD_PAYMENT\", payload: payment });\n          history.push(`/accounts/${history}`);\n        }\n      });\n  };\n};\n\n/*let chargeToken = this.props.stripe.createToken({name: \"Name\"})\n  let charge = {\n     amount: form.amount,\n     cardnumber: form.cardnumber,\n     expiration: form.expiration,\n     cvc: form.cvc,\n     token: chargeToken.token.id \n  } */\n"]},"metadata":{},"sourceType":"module"}