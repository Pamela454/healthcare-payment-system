{"ast":null,"code":"import * as Cookies from \"js-cookie\";\nexport const setDepartments = departments => {\n  console.log(departments);\n  return {\n    type: \"GET_DEPARTMENTS\",\n    departments\n  };\n};\nexport const addDepartment = department => {\n  console.log(department);\n  return {\n    type: \"ADD_DEPARTMENT\",\n    department\n  };\n};\nexport const getDepartments = (accountId, history) => {\n  let token = Cookies.get(\"token\");\n  return dispatch => {\n    console.log(accountId);\n    console.log(history);\n    fetch(`http://localhost:3001/api/v1/accounts/${accountId}/departments`, {\n      method: \"GET\",\n      credentials: \"same-origin\",\n      headers: {\n        \"Content-Type\": \"application/json\"\n      },\n      body: JSON.stringify(),\n      Authorization: token\n    }).then(res => res.json()).then(response => {\n      console.log(response);\n\n      if (response.error || response === null || response === undefined) {\n        console.log(\"no\");\n      } else {\n        console.log(\"yes\");\n        console.log(response);\n        dispatch(setDepartments(response.data));\n        history.push(`/accounts/${accountId}/departments`);\n      }\n    }).catch(console.log);\n  };\n};\nexport const newDepartment = (departmentData, accountId, history) => {\n  return dispatch => {\n    const url = `http://localhost:3001/api/v1/accounts/${accountId}/departments`;\n    return fetch(url, {\n      method: \"POST\",\n      credentials: \"same-origin\",\n      headers: {\n        \"Content-Type\": \"application/json\"\n      },\n      body: JSON.stringify(departmentData)\n    }).then(response => response.json()).then(department => {\n      console.log(department);\n\n      if (department.error) {\n        alert(\"error\");\n      } else {\n        dispatch(addDepartment(department.data));\n        console.log(department.data);\n        history.push(`/accounts/${department.data.account_id}`);\n      }\n    }).catch(console.log);\n  };\n};\nexport const deleteDepartment = (departmentId, accountId) => {\n  return dispatch => {\n    return fetch(`http://localhost:3001/api/v1/accounts/${accountId}/departments/${departmentId}`, {\n      method: \"DELETE\"\n    }).then(response => response.json()).then(account => dispatch({\n      type: \"DELETE_TRANSACTION\",\n      payload: account\n    }));\n  };\n};","map":{"version":3,"sources":["/Users/pamela/healthcare-payment-system/frontend/src/actions/currentDepartments.js"],"names":["Cookies","setDepartments","departments","console","log","type","addDepartment","department","getDepartments","accountId","history","token","get","dispatch","fetch","method","credentials","headers","body","JSON","stringify","Authorization","then","res","json","response","error","undefined","data","push","catch","newDepartment","departmentData","url","alert","account_id","deleteDepartment","departmentId","account","payload"],"mappings":"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","sourcesContent":["import * as Cookies from \"js-cookie\";\n\nexport const setDepartments = (departments) => {\n\tconsole.log(departments);\n\treturn {\n\t\ttype: \"GET_DEPARTMENTS\",\n\t\tdepartments,\n\t};\n};\n\nexport const addDepartment = (department) => {\n\tconsole.log(department);\n\treturn {\n\t\ttype: \"ADD_DEPARTMENT\",\n\t\tdepartment,\n\t};\n};\n\nexport const getDepartments = (accountId, history) => {\n\tlet token = Cookies.get(\"token\");\n\treturn (dispatch) => {\n\t\tconsole.log(accountId);\n\t\tconsole.log(history);\n\t\tfetch(\n\t\t\t`http://localhost:3001/api/v1/accounts/${accountId}/departments`,\n\t\t\t{\n\t\t\t\tmethod: \"GET\",\n\t\t\t\tcredentials: \"same-origin\",\n\t\t\t\theaders: {\n\t\t\t\t\t\"Content-Type\": \"application/json\",\n\t\t\t\t},\n\t\t\t\tbody: JSON.stringify(),\n\t\t\t\tAuthorization: token,\n\t\t\t}\n\t\t)\n\t\t\t.then((res) => res.json())\n\t\t\t.then((response) => {\n\t\t\t\tconsole.log(response);\n\t\t\t\tif (\n\t\t\t\t\tresponse.error ||\n\t\t\t\t\tresponse === null ||\n\t\t\t\t\tresponse === undefined\n\t\t\t\t) {\n\t\t\t\t\tconsole.log(\"no\");\n\t\t\t\t} else {\n\t\t\t\t\tconsole.log(\"yes\");\n\t\t\t\t\tconsole.log(response);\n\t\t\t\t\tdispatch(setDepartments(response.data));\n\t\t\t\t\thistory.push(`/accounts/${accountId}/departments`);\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch(console.log);\n\t};\n};\n\nexport const newDepartment = (departmentData, accountId, history) => {\n\treturn (dispatch) => {\n\t\tconst url = `http://localhost:3001/api/v1/accounts/${accountId}/departments`;\n\t\treturn fetch(url, {\n\t\t\tmethod: \"POST\",\n\t\t\tcredentials: \"same-origin\",\n\t\t\theaders: {\n\t\t\t\t\"Content-Type\": \"application/json\",\n\t\t\t},\n\t\t\tbody: JSON.stringify(departmentData),\n\t\t})\n\t\t\t.then((response) => response.json())\n\t\t\t.then((department) => {\n\t\t\t\tconsole.log(department);\n\t\t\t\tif (department.error) {\n\t\t\t\t\talert(\"error\");\n\t\t\t\t} else {\n\t\t\t\t\tdispatch(addDepartment(department.data));\n\t\t\t\t\tconsole.log(department.data);\n\t\t\t\t\thistory.push(`/accounts/${department.data.account_id}`);\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch(console.log);\n\t};\n};\n\nexport const deleteDepartment = (departmentId, accountId) => {\n\treturn (dispatch) => {\n\t\treturn fetch(\n\t\t\t`http://localhost:3001/api/v1/accounts/${accountId}/departments/${departmentId}`,\n\t\t\t{\n\t\t\t\tmethod: \"DELETE\",\n\t\t\t}\n\t\t)\n\t\t\t.then((response) => response.json())\n\t\t\t.then((account) =>\n\t\t\t\tdispatch({ type: \"DELETE_TRANSACTION\", payload: account })\n\t\t\t);\n\t};\n};\n"]},"metadata":{},"sourceType":"module"}