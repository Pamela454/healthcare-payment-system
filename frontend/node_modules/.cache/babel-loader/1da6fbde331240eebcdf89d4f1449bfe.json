{"ast":null,"code":"export const newPayment = (paymentData, history) => {\n  return dispatch => {\n    const newUrl = `http://localhost:3001/api/v1/accounts/${paymentData.account_id}/payments/new`;\n    return fetch(newUrl, {\n      method: \"POST\",\n      credentials: \"same-origin\",\n      headers: {\n        \"Content-Type\": \"application/json\"\n      },\n      body: JSON.stringify(paymentData)\n    }).then(res => res.json()).then(payment => {\n      console.log(payment);\n\n      if (payment.error) {\n        alert(\"error\");\n      } else {\n        dispatch({\n          type: \"ADD_PAYMENT\",\n          payload: payment\n        });\n        history.push(`/accounts/${paymentData.account_id}`);\n      }\n    }).catch(console.log);\n  };\n};\n/*let chargeToken = this.props.stripe.createToken({name: \"Name\"})\n  let charge = {\n     amount: form.amount,\n     cardnumber: form.cardnumber,\n     expiration: form.expiration,\n     cvc: form.cvc,\n     token: chargeToken.token.id \n  } */","map":{"version":3,"sources":["/Users/pamela/healthcare-payment-system/frontend/src/actions/currentPayments.js"],"names":["newPayment","paymentData","history","dispatch","newUrl","account_id","fetch","method","credentials","headers","body","JSON","stringify","then","res","json","payment","console","log","error","alert","type","payload","push","catch"],"mappings":"AAAA,OAAO,MAAMA,UAAU,GAAG,CAACC,WAAD,EAAcC,OAAd,KAA0B;AAClD,SAAQC,QAAD,IAAc;AACnB,UAAMC,MAAM,GAAI,yCAAwCH,WAAW,CAACI,UAAW,eAA/E;AACA,WAAOC,KAAK,CAACF,MAAD,EAAS;AACnBG,MAAAA,MAAM,EAAE,MADW;AAEnBC,MAAAA,WAAW,EAAE,aAFM;AAGnBC,MAAAA,OAAO,EAAE;AACP,wBAAgB;AADT,OAHU;AAMnBC,MAAAA,IAAI,EAAEC,IAAI,CAACC,SAAL,CAAeX,WAAf;AANa,KAAT,CAAL,CAQJY,IARI,CAQEC,GAAD,IAASA,GAAG,CAACC,IAAJ,EARV,EASJF,IATI,CASEG,OAAD,IAAa;AACjBC,MAAAA,OAAO,CAACC,GAAR,CAAYF,OAAZ;;AACA,UAAIA,OAAO,CAACG,KAAZ,EAAmB;AACjBC,QAAAA,KAAK,CAAC,OAAD,CAAL;AACD,OAFD,MAEO;AACLjB,QAAAA,QAAQ,CAAC;AAAEkB,UAAAA,IAAI,EAAE,aAAR;AAAuBC,UAAAA,OAAO,EAAEN;AAAhC,SAAD,CAAR;AACAd,QAAAA,OAAO,CAACqB,IAAR,CAAc,aAAYtB,WAAW,CAACI,UAAW,EAAjD;AACD;AACF,KAjBI,EAkBJmB,KAlBI,CAkBEP,OAAO,CAACC,GAlBV,CAAP;AAmBD,GArBD;AAsBD,CAvBM;AAyBP;AACA;AACA;AACA;AACA;AACA;AACA;AACA","sourcesContent":["export const newPayment = (paymentData, history) => {\n  return (dispatch) => {\n    const newUrl = `http://localhost:3001/api/v1/accounts/${paymentData.account_id}/payments/new`;\n    return fetch(newUrl, {\n      method: \"POST\",\n      credentials: \"same-origin\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n      },\n      body: JSON.stringify(paymentData),\n    })\n      .then((res) => res.json())\n      .then((payment) => {\n        console.log(payment);\n        if (payment.error) {\n          alert(\"error\");\n        } else {\n          dispatch({ type: \"ADD_PAYMENT\", payload: payment });\n          history.push(`/accounts/${paymentData.account_id}`);\n        }\n      })\n      .catch(console.log);\n  };\n};\n\n/*let chargeToken = this.props.stripe.createToken({name: \"Name\"})\n  let charge = {\n     amount: form.amount,\n     cardnumber: form.cardnumber,\n     expiration: form.expiration,\n     cvc: form.cvc,\n     token: chargeToken.token.id \n  } */\n"]},"metadata":{},"sourceType":"module"}