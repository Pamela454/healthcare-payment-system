{"ast":null,"code":"export function addPayment(payment) {\n  console.log(\"addPayment\", payment);\n  return {\n    type: \"ADD_GARMENT\",\n    garment\n  };\n}\nexport const newPayment = (paymentData, history) => {\n  console.log(\"newPayment.paymentData is: \");\n  console.log(paymentData);\n  console.log(\"newPayment.history is: \");\n  console.log(history);\n  return dispatch => {\n    console.log(\"about to fetch!\");\n    return fetch( //${paymentData.account_id}\n    \"http://localhost:3001/api/v1/accounts/1/payments/new\", {\n      method: \"POST\",\n      credentials: \"same-origin\",\n      headers: {\n        \"Content-Type\": \"application/json\"\n      },\n      body: JSON.stringify(paymentData)\n    }).then(res => res.json()).then(payment => {\n      console.log(payment);\n\n      if (payment.error) {\n        alert(\"error\");\n      } else {\n        console.log(payment.data);\n        dispatch(addPayment(payment.data));\n        history.push(`/accounts/${paymentData.account_id}`);\n      }\n    }).catch(console.log);\n  };\n};\n/*let chargeToken = this.props.stripe.createToken({name: \"Name\"})\n  let charge = {\n     amount: form.amount,\n     cardnumber: form.cardnumber,\n     expiration: form.expiration,\n     cvc: form.cvc,\n     token: chargeToken.token.id \n  } */","map":{"version":3,"sources":["/Users/pamela/healthcare-payment-system/frontend/src/actions/currentPayments.js"],"names":["addPayment","payment","console","log","type","garment","newPayment","paymentData","history","dispatch","fetch","method","credentials","headers","body","JSON","stringify","then","res","json","error","alert","data","push","account_id","catch"],"mappings":"AAAA,OAAO,SAASA,UAAT,CAAoBC,OAApB,EAA6B;AAClCC,EAAAA,OAAO,CAACC,GAAR,CAAY,YAAZ,EAA0BF,OAA1B;AACA,SAAO;AAAEG,IAAAA,IAAI,EAAE,aAAR;AAAuBC,IAAAA;AAAvB,GAAP;AACD;AAED,OAAO,MAAMC,UAAU,GAAG,CAACC,WAAD,EAAcC,OAAd,KAA0B;AAClDN,EAAAA,OAAO,CAACC,GAAR,CAAY,6BAAZ;AACAD,EAAAA,OAAO,CAACC,GAAR,CAAYI,WAAZ;AACAL,EAAAA,OAAO,CAACC,GAAR,CAAY,yBAAZ;AACAD,EAAAA,OAAO,CAACC,GAAR,CAAYK,OAAZ;AAEA,SAAQC,QAAD,IAAc;AACnBP,IAAAA,OAAO,CAACC,GAAR,CAAY,iBAAZ;AAEA,WAAOO,KAAK,EACV;AACA,0DAFU,EAGV;AACEC,MAAAA,MAAM,EAAE,MADV;AAEEC,MAAAA,WAAW,EAAE,aAFf;AAGEC,MAAAA,OAAO,EAAE;AACP,wBAAgB;AADT,OAHX;AAMEC,MAAAA,IAAI,EAAEC,IAAI,CAACC,SAAL,CAAeT,WAAf;AANR,KAHU,CAAL,CAYJU,IAZI,CAYEC,GAAD,IAASA,GAAG,CAACC,IAAJ,EAZV,EAaJF,IAbI,CAaEhB,OAAD,IAAa;AACjBC,MAAAA,OAAO,CAACC,GAAR,CAAYF,OAAZ;;AACA,UAAIA,OAAO,CAACmB,KAAZ,EAAmB;AACjBC,QAAAA,KAAK,CAAC,OAAD,CAAL;AACD,OAFD,MAEO;AACLnB,QAAAA,OAAO,CAACC,GAAR,CAAYF,OAAO,CAACqB,IAApB;AACAb,QAAAA,QAAQ,CAACT,UAAU,CAACC,OAAO,CAACqB,IAAT,CAAX,CAAR;AACAd,QAAAA,OAAO,CAACe,IAAR,CAAc,aAAYhB,WAAW,CAACiB,UAAW,EAAjD;AACD;AACF,KAtBI,EAuBJC,KAvBI,CAuBEvB,OAAO,CAACC,GAvBV,CAAP;AAwBD,GA3BD;AA4BD,CAlCM;AAoCP;AACA;AACA;AACA;AACA;AACA;AACA;AACA","sourcesContent":["export function addPayment(payment) {\n  console.log(\"addPayment\", payment);\n  return { type: \"ADD_GARMENT\", garment };\n}\n\nexport const newPayment = (paymentData, history) => {\n  console.log(\"newPayment.paymentData is: \");\n  console.log(paymentData);\n  console.log(\"newPayment.history is: \");\n  console.log(history);\n\n  return (dispatch) => {\n    console.log(\"about to fetch!\");\n\n    return fetch(\n      //${paymentData.account_id}\n      \"http://localhost:3001/api/v1/accounts/1/payments/new\",\n      {\n        method: \"POST\",\n        credentials: \"same-origin\",\n        headers: {\n          \"Content-Type\": \"application/json\",\n        },\n        body: JSON.stringify(paymentData),\n      }\n    )\n      .then((res) => res.json())\n      .then((payment) => {\n        console.log(payment);\n        if (payment.error) {\n          alert(\"error\");\n        } else {\n          console.log(payment.data);\n          dispatch(addPayment(payment.data));\n          history.push(`/accounts/${paymentData.account_id}`);\n        }\n      })\n      .catch(console.log);\n  };\n};\n\n/*let chargeToken = this.props.stripe.createToken({name: \"Name\"})\n  let charge = {\n     amount: form.amount,\n     cardnumber: form.cardnumber,\n     expiration: form.expiration,\n     cvc: form.cvc,\n     token: chargeToken.token.id \n  } */\n"]},"metadata":{},"sourceType":"module"}