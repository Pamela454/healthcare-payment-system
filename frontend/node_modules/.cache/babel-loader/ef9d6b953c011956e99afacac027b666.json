{"ast":null,"code":"export const newPayment = (accountId, form) => {\n  console.log(form);\n  let chargeToken = this.props.stripe.createToken({\n    name: \"Name\"\n  });\n  let charge = {\n    amount: form.amount,\n    amount: form.cardnumber,\n    amount: form.expiration,\n    amount: form.cvc,\n    token: chargeToken.token.id\n  };\n  return dispatch => {\n    fetch(`http://localhost:3000/api/v1/accounts/${accountId}/payments/new`, {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify({\n        charge: charge\n      })\n    }).then(response => response.json()).then(payment => dispatch({\n      type: 'ADD_PAYMENT',\n      payload: payment\n    }));\n  };\n};","map":{"version":3,"sources":["/Users/pamela/healthcare-payment-system/frontend/src/actions/currentPayments.js"],"names":["newPayment","accountId","form","console","log","chargeToken","props","stripe","createToken","name","charge","amount","cardnumber","expiration","cvc","token","id","dispatch","fetch","method","headers","body","JSON","stringify","then","response","json","payment","type","payload"],"mappings":"AAAA,OAAO,MAAMA,UAAU,GAAG,CAACC,SAAD,EAAYC,IAAZ,KAAqB;AAC7CC,EAAAA,OAAO,CAACC,GAAR,CAAYF,IAAZ;AACA,MAAIG,WAAW,GAAG,KAAKC,KAAL,CAAWC,MAAX,CAAkBC,WAAlB,CAA8B;AAACC,IAAAA,IAAI,EAAE;AAAP,GAA9B,CAAlB;AACA,MAAIC,MAAM,GAAG;AACVC,IAAAA,MAAM,EAAET,IAAI,CAACS,MADH;AAEVA,IAAAA,MAAM,EAAET,IAAI,CAACU,UAFH;AAGVD,IAAAA,MAAM,EAAET,IAAI,CAACW,UAHH;AAIVF,IAAAA,MAAM,EAAET,IAAI,CAACY,GAJH;AAKVC,IAAAA,KAAK,EAAEV,WAAW,CAACU,KAAZ,CAAkBC;AALf,GAAb;AAQA,SAAQC,QAAD,IAAc;AACnBC,IAAAA,KAAK,CAAE,yCAAwCjB,SAAU,eAApD,EAAoE;AACvEkB,MAAAA,MAAM,EAAE,MAD+D;AAEvEC,MAAAA,OAAO,EAAE;AACP,wBAAgB;AADT,OAF8D;AAKvEC,MAAAA,IAAI,EAAEC,IAAI,CAACC,SAAL,CAAe;AACnBb,QAAAA,MAAM,EAAEA;AADW,OAAf;AALiE,KAApE,CAAL,CASCc,IATD,CASMC,QAAQ,IAAIA,QAAQ,CAACC,IAAT,EATlB,EAUCF,IAVD,CAUMG,OAAO,IAAIV,QAAQ,CAAC;AAACW,MAAAA,IAAI,EAAE,aAAP;AAAsBC,MAAAA,OAAO,EAAEF;AAA/B,KAAD,CAVzB;AAWD,GAZD;AAaD,CAxBM","sourcesContent":["export const newPayment = (accountId, form) => {\n  console.log(form)\n  let chargeToken = this.props.stripe.createToken({name: \"Name\"})\n  let charge = {\n     amount: form.amount,\n     amount: form.cardnumber,\n     amount: form.expiration,\n     amount: form.cvc,\n     token: chargeToken.token.id \n  }\n\n  return (dispatch) => {\n    fetch(`http://localhost:3000/api/v1/accounts/${accountId}/payments/new`, {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify({\n        charge: charge \n      })\n    })\n    .then(response => response.json())\n    .then(payment => dispatch({type: 'ADD_PAYMENT', payload: payment}))\n  }\n}"]},"metadata":{},"sourceType":"module"}